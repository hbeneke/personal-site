---
import DownloadIcon from "@icons/download.svg";
---

<div class="cv-download-container">
  <button
    id="cv-download-btn"
    class="group px-4 py-2 rounded-md border border-[rgb(var(--primary))] text-[rgb(var(--primary))] hover:bg-[rgb(var(--primary))] hover:text-gray-900 transition-all duration-200 text-sm font-semibold flex items-center gap-2 mt-1 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed"
    aria-label="Download CV as PDF"
    title="Download CV (Ctrl/Cmd + P)"
  >
    <DownloadIcon class="download-icon w-4 h-4 group-hover:animate-bounce" />
    <span class="download-text">Download printable version</span>
    <span class="loading-text hidden">Preparing...</span>
  </button>
</div>

<script>
  import CVDownloader from "@scripts/cv-download.ts";

  document.addEventListener("DOMContentLoaded", () => {
    if (window.location.pathname.includes("/resume")) {
      new CVDownloader();
    }
  });
</script>
