@import "@pagefind/default-ui/css/ui.css";

:root {
  --pagefind-ui-font: inherit;
}

site-search {
  flex-shrink: 0;
  z-index: 50;
}

@media (max-width: 639px) {
  #personal__search .pagefind-ui__filter-value {
    display: none;
  }

  #personal__search .pagefind-ui__filter-group.active .pagefind-ui__filter-value,
  #personal__search .pagefind-ui__filter-group:target .pagefind-ui__filter-value,
  #personal__search .pagefind-ui__filter-panel.open .pagefind-ui__filter-value {
    display: block;
  }

  #personal__search .pagefind-ui__filter-name {
    cursor: pointer;
    position: relative;
    padding-right: 1.5rem;
    user-select: none;
  }

  #personal__search .pagefind-ui__filter-name::after {
    content: "â–¼";
    position: absolute;
    right: 0.25rem;
    top: 50%;
    transform: translateY(-50%);
    transition: transform 0.2s ease;
    font-size: 0.75rem;
    opacity: 0.7;
  }

  #personal__search .pagefind-ui__filter-group.active .pagefind-ui__filter-name::after,
  #personal__search .pagefind-ui__filter-group:target .pagefind-ui__filter-name::after,
  #personal__search .pagefind-ui__filter-panel.open .pagefind-ui__filter-name::after {
    transform: translateY(-50%) rotate(180deg);
  }
}

#personal__search {
  --pagefind-ui-primary: rgb(var(--primary));
  --pagefind-ui-text: rgb(var(--foreground));
  --pagefind-ui-background: #27272a;
  --pagefind-ui-border: #fff;
  --pagefind-ui-border-width: 2px;
  --pagefind-ui-border-radius: 0.5rem;
}

#personal__search .pagefind-ui__search-clear {
  @apply w-12 p-0 bg-transparent overflow-hidden border-gray-600 transition-all duration-200;
}

#personal__search .pagefind-ui__search-clear:focus {
  @apply border-2 border-white;
}

#personal__search .pagefind-ui__search-clear::before {
  @apply bg-green-400 block w-full h-full transition-all duration-200;
  content: "";
  -webkit-mask: url("/icons/close.svg") center / 60% no-repeat;
  mask: url("/icons/close.svg") center / 60% no-repeat;
}

#personal__search .pagefind-ui__search-clear:hover::before {
  @apply bg-green-200;
}

#personal__search .pagefind-ui__search-input {
  @apply pl-12 pr-12 py-4 text-base relative;
}

#personal__search .pagefind-ui__search-input::before {
  content: "";
  @apply absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 bg-gray-400;
  -webkit-mask: url("/icons/magnifier.svg") center / contain no-repeat;
  mask: url("/icons/magnifier.svg") center / contain no-repeat;
}

#personal__search .pagefind-ui__search-input:focus {
  @apply outline-none;
}

#personal__search .pagefind-ui__result {
  @apply border-0;
}

#personal__search .pagefind-ui__result-link {
  @apply secondary text-base transition-colors duration-200;
}

#personal__search .pagefind-ui__result-link:hover {
  @apply underline secondary-hovered;
}

#personal__search .pagefind-ui__result-tag {
  @apply hidden;
}

#personal__search mark {
  @apply text-green-400 font-semibold bg-transparent;
}

#personal__search .pagefind-ui__result-excerpt {
  @apply text-gray-300 text-xs leading-relaxed;
}

#personal__search .pagefind-ui__message {
  @apply text-gray-300 text-center py-8 text-xs;
}

#personal__search .pagefind-ui__loading {
  @apply text-[rgb(var(--primary))];
}
