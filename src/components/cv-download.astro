---
import DownloadIcon from "@icons/download.svg";
---

<div class="cv-download-container">
  <button
    id="cv-download-btn"
    class="text-gray-400 hover:text-yellow-300 hover:underline transition-all duration-200 text-sm font-medium flex items-center gap-1 mt-1 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed"
    aria-label="Download CV as PDF"
    title="Download CV (Ctrl/Cmd + P)"
  >
    <DownloadIcon class="download-icon w-4 h-4" />
    <span class="download-text">Download CV</span>
    <span class="loading-text hidden">Preparing...</span>
  </button>
</div>

<script>
  import CVDownloader from "@scripts/cv-download.ts";

  document.addEventListener("DOMContentLoaded", () => {
    if (window.location.pathname.includes("/resume")) {
      new CVDownloader();
    }
  });
</script>
